sudo: true
language: cpp

os: linux
stage: test
compiler: gcc

matrix:
    include:
        - env: COMPILER="g++-7" C_COMPILER="gcc-7"
          addons: &gcc7
              apt:
                  source:
                      - ubuntu-toolchain-r-test
                      - sourceline: 'ppa:scylladb/ppa'
                  packages:
                      - g++-7

script:
    - set -e
    - mkdir build
    - cd build
    - cmake ../
    - make -j 2
jobs:
    - make test
